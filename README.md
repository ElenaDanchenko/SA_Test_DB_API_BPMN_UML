# Тестовое задание на позицию "Системный аналитик"

[Скачать полное решение (PDF)](https://raw.githubusercontent.com/ElenaDanchenko/TEST_FOR_SA/main/Тестовое%20задание%20на%20позицию%20Системный%20аналитик_Данченко_Елена.pdf)

--- 
### ERD диаграмма (Entity-Relationship) для БД "ORDERS"

Основные таблицы: orders - таблица заказов, customers - таблица покупателей, items - товары, towns - справочник адресов.

## Технологический стек
- **СУБД**: PostgreSQL 16
- **Средства разработки**:  DBeaver
- **Инструменты для тестирования API:** Postman
    
<details>
  <summary>Просмотр ERD диаграммы</summary>
  <img width="1035" height="525" alt="ERD Diagram" src="https://github.com/user-attachments/assets/16345c7b-6b9e-42f7-8738-32d058592c09"/>
</details>

---

### Sequence Diagram (UML) для сценария оформления заказа в интернет-магазине

Рассмотрены следующие сценарии: просмотр витрины товаров, просмотр детального описания товара, добавление товара в корзину.

**Инструмент** Draw.io

<details>
	<summary>Просмотр Sequence Diagram</summary>
	<img width="725" height="1225" alt="ERD Diagram" src="https://github.com/user-attachments/assets/fdf5c982-921d-4217-99bb-460722c3de9f"/>
</details>

---

### Workflow пополнения баланса мобильного счета с использованием банковского приложения, установленного на смартфоне (BPMN 2.0)

Отображены основные этапы: авторизация в приложении, ввод ПИН-кода, ввод номера телефона и суммы, а также подтверждение транзакции. 
Также описаны альтернативные потоки:  ошибка ввода ПИН-кода (3 попытки → блокировка), отмена операции на этапе ввода ПИН.

**Инструмент** StormBPMN

<details>
	<summary>PDF Workflow</summary>
	[BPMN Диаграмма: Пополнение баланса мобильного телефона (PDF)](BPMN_пополнение_баланса_мобильного.pdf)
</details>

---

### Разработка REST API для реализации основных функций интернет-магазина: отображение витрины товаров, просмотр деталей товара и добавление товаров в корзину.

## REST API

<details>
<br>
<summary>Получение информации о витрине товаров</summary>

Данный эндпойнт позволяет запросить информацию для отображения витрины товаров.

### Метод и путь

| Метод | Путь      |
| ----- | --------- |
| GET   | `/catalog` |

### Поля ответа

| Наименование    | Тип данных | Описание                       |
| --------------- | ---------- | ------------------------------ |
| name            | string     | наименование товара            |
| production      | string     | наименование производителя    |
| price           | string     | цена товара                    |
| img_src         | string     | ссылка на изображение товара   |
| id              | number     | уникальный идентификатор товара |

### Пример запроса

Используя `curl`:

```bash
curl \
http://127.0.0.1:1234/v1/catalog

### Пример запроса

Используя `curl`:

```bash
curl \
http://127.0.0.1:1234/v1/catalog

{
  "catalog": [
    {
      "name": "Фигурка Эльвира",
      "production": "Neca",
      "price": "5000.0",
      "img_src": "images/figures/neca/34679",
      "id": 45678
    },
    {
      "name": "Фигурка Кендимен",
      "production": "Trick or Treat",
      "price": "4700.0",
      "img_src": "images/figures/trick_or_treat/89641",
      "id": 75678
    }
  ]
}
<br>

```
</details>
<details>
<br>
<summary>Получение детальной информации о товаре</summary>

Данный эндпойнт позволяет запросить информацию для отображения детальной информации о товаре.

### Метод и путь
| Метод | Путь      |
| ----- | --------- |
| GET   | `/details/item?id=:id` |
| GET   | `/details/item /:id` |

### Параметры запроса

| Наименование | Тип данных |Значение по умолчанию  | Обязательность |Описание |
| ----- | --------- | --------- | --------- | --------- |
| id   | integer |-  |+ |уникальный идентификатор товара  |

### Поля ответа

|Наименование	|Тип данных|	Описание|
| ----- | --------- |---------|
| name | string|	наименование товара|
| production | string| наименование производителя|
| price | string | цена товара|
| imgs_src | array |список ссылок на изображения товара|
| id | number |уникальный идентификатор товара|
| productType | string | тип продукта|
| size |string|	размер товара |
| material | string | материал товара|
| modelNumber | string|	наименование модели товара|
| description | string	|описание товара|


### Пример запроса

Используя `curl`:

```bash
curl \
http://127.0.0.1:1234/v1/details/item?id=45678

Пример ответа:

    {
      "name": "Фигурка Эльвира",
      "production": "Neca",
      "price": "5000.0",
      "imgs_src": [
		"images/figures/neca/34679", 
		"images/figures/neca/34680",
           "images/figures/neca/34681",
		"images/figures/neca/34682",
        	"images/figures/neca/34683" 
	 ],
      "id": 45678,
      "productType": "Подвижная фигурка",
      "size": "18 см",
      "material": "Пластик, ткань",
      "modelNumber": "NC1437",
      "description": "В конце полнометражных приключений \"Эльвиры, 	повелительницы тьмы\", наша угарная героиня отыгрывает образ 	ныне экшн-пенсионеров, а тогда в 80-х звезд типа Арнольда и 	Сильвестра, вооружившись воинственной раскраской и мощной 	базукой - именно этот облик точнехонько воспроизвели NECA, уже 	выдавших идеальные версии фигурок Эльвиры.\n\n И тут без 	идеальности не обошлось, то же анатомически и пропорционально 	верное подвижное тело облачено в \"укороченный\" вариант 	тканевого платья, сменные лица все также превосходно 	скульптированы и окрашены цифровым образом, пышная прическа 	детализирована, ну а комплект содержит ту самую базуку и 	колдовской гримуар, который отлично будет смотреться и в руках 	других версий Эльвир"
    }
```
</details>

<details>
<br>
<summary>Добавление товара в корзину</summary>

Этот эндпойнт позволяет добавить товар в корзину.

### Метод и путь
| Метод | Путь      |
| ----- | --------- |
| POST  | `/cart` |

### Параметры запроса

| Наименование | Тип данных | Значение по умолчанию | Обязательность  | Описание |
| ----- | --------- |--------- | --------- | --------- |
| cart_id | number | - | + | уникальный идентификатор корзины пользователя |
| item_id | number| - | + | уникальный идентификатор товара |
| quantity | number | 1 | - | количество единиц товара |

### Поля ответа

|Наименование	|Тип данных|	Описание|
| ----- | --------- |---------|
| success | true/false | статус выполнения запроса |
| remains_of_item  | number | количество, оставшихся доступных для заказа единиц данного товара |

### Пример запроса

Используя `curl`:

```bash
curl \
-X POST \
-d '{
    "cart_id": 7601,
    "item_id": 45678,
    "quantity": 5
}'\
http://127.0.0.1:1234/v1/cart 

Пример ответа:
{
  "success": true,
  "remains_of_item": 5
}
```
</details>
